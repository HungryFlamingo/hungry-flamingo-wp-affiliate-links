"use strict";(self.webpackChunkhungry_flamingo_wp_affiliate_links=self.webpackChunkhungry_flamingo_wp_affiliate_links||[]).push([[74],{4376:function(e,t,n){function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={endpoint:e,current_time:(new Date).toLocaleTimeString(),_wpnonce:wpEnv._wp_rest_nonce,_wp_http_referer:wpEnv._wp_http_referer},a={...r};async function c(){const t=await fetch(wpEnv._wp_rest_url+"hungry-flamingo/v1/"+wpEnv.plugin_slug+"/"+e,{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8","X-WP-Nonce":wpEnv._wp_rest_nonce}}).then((e=>{if(e.ok)return e.json();throw new Error("Server response was not OK")})).then((e=>e));return null!=t.success?t:'{"success":false, "msg":"Unknown error"}'}async function l(){var t=JSON.stringify(a);const n=await fetch(wpEnv._wp_rest_url+"hungry-flamingo/v1/"+wpEnv.plugin_slug+"/"+e,{method:"POST",body:t,headers:{"Content-Type":"application/json; charset=utf-8","X-WP-Nonce":wpEnv._wp_rest_nonce}}).then((e=>{if(e.ok)return e.json();throw new Error("Server response was not OK")})).then((e=>e));return null!=n.success?n:'{"success":false, "msg":"Unknown error"}'}return a.data=void 0!==n?JSON.stringify(n):null,"GET"===t?c():"POST"===t?l():null}n.d(t,{y:function(){return r}})},8074:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}}),n(9307);var r=n(4494),a=n(9062),c=n(1508),l=n(4376),i=n(6477),o=n(2341);function s(){const[e,t]=React.useState(void 0),{modalObject:n,setModalObject:s}=React.useContext(i.t),u=[{field:"url",headerName:"Url",width:150},{field:"title",headerName:"Title",width:150},{field:"icon",headerName:"Icon",width:150,renderCell:e=>React.createElement("div",null,React.createElement("img",{src:e.row.icon,alt:"",width:"30px"}))}];return React.useEffect((()=>{(async()=>{try{const e=await(0,l.y)("get-affiliate-links");if(1==e.success){let n=[],r=JSON.parse(e.data);Object.keys(r).map((e=>{n.push(r[e])})),t(n)}}catch(e){console.log(e)}})()}),[]),void 0===e?React.createElement(React.Fragment,null,React.createElement(c.Z,{sx:{display:"flex",width:"100%",justifyContent:"center",padding:"3em"}},React.createElement(a.Z,null))):React.createElement(React.Fragment,null,React.createElement("div",{style:{height:500,width:"100%"}},React.createElement(r._,{rows:e,columns:u,pageSize:25,rowsPerPageOptions:[25,50],checkboxSelection:!0,disableMultipleSelection:!0,getRowId:e=>(console.log(e),e.url),onRowDoubleClick:(e,t)=>{var r;r=e.row,s({...n,id:"AddAffiliate",title:"Edit affiliate",content:React.createElement(o.Kp,{affiliateData:r})})}})))}}}]);